# Summary for issue_18

The following table contains summary information from the files generated by running `collect_data.sh` on VirtualBox VMs installed with Rocky Linux 8.4 from the media specified below.

All original output files are saved in subdirectories for each ISO type tested.

Only `x85_64` results are included at this time.


## Summary Table

| ISO                             | PACKAGE_SET            | Install Source    | Install Method     | Enabled Modules   | Disabled Modules    | Installed Modules    | RPM packages    |
| :------------------------------ | :--------------------- | :---------------- | :----------------- | ----------------: | ------------------: | -------------------: | --------------: |
| Rocky-8.4-aarch64-boot.iso      |   minimal              | network           | Libvirt VM         | 0                 | 0                   | 0                    | 407             |
| Rocky-8.4-x86_64-boot.iso       |   minimal              | network           | VirtualBox VM      | 0                 | 0                   | 0                    | 374             |
| Rocky-8.4-x86_64-boot.iso       |   minimal              | network / efi     | VirtualBox VM      | 0                 | 0                   | 0                    | 411             |
| Rocky-8.4-aarch64-minimal.iso   |   minimal              | media             | Libvirt VM         | 0                 | 0                   | 0                    | 369             |
| Rocky-8.4-x86_64-minimal.iso    |   minimal              | media             | VirtualBox VM      | 0                 | 0                   | 0                    | 357             |
| Rocky-8.4-x86_64-minimal.iso    |   minimal              | media / efi       | VirtualBox VM      | 4                 | 0                   | 0                    | 373             |
| Rocky-8.4-aarch64-minimal.iso   |   minimal              | network           | Libvirt VM         | 0                 | 0                   | 0                    | 407             |
| Rocky-8.4-x86_64-minimal.iso    |   minimal              | network           | VirtualBox VM      | 0                 | 0                   | 0                    | 347             |
| Rocky-8.4-aarch64-dvd1.iso      |   minimal              | media             | Libvirt VM         | 0                 | 0                   | 0                    | 408             |
| Rocky-8.4-x86_64-dvd1.iso       |   minimal              | media             | VirtualBox VM      | 0                 | 0                   | 0                    | 375             |
| Rocky-8.4-x86_64-dvd1.iso       |   minimal              | media / efi       | VirtualBox VM      | 0                 | 0                   | 0                    | 412             |
| | | | |
| Rocky-8.4-aarch64-boot.iso      | \* graphical-server    | network           | Libvirt VM         | 9                 | 0                   | 0                    | 1239            |
| Rocky-8.4-x86_64-boot.iso       | \* graphical-server    | network           | VirtualBox VM      | 0                 | 0                   | 0                    | 357             |
| Rocky-8.4-aarch64-minimal.iso   |   graphical-server     | network           | Libvirt VM         | 9                 | 0                   | 0                    | 1239            |
| Rocky-8.4-x86_64-minimal.iso    |   graphical-server     | network           | VirtualBox VM      | 10                | 0                   | 0                    | 1366            |
| Rocky-8.4-aarch64-dvd1.iso      | \* graphical-server    | media             | Libvirt VM         | 9                 | 0                   | 0                    | 1241            |
| Rocky-8.4-x86_64-dvd1.iso       | \* graphical-server    | media             | VirtualBox VM      | 10                | 0                   | 0                    | 1367            |
| | | | |
| Rocky-8.4-aarch64-boot.iso      |   server               | network           | Libvirt VM         | 0                 | 0                   | 0                    | 603             |
| Rocky-8.4-x86_64-boot.iso       |   server               | network           | VirtualBox VM      | 0                 | 0                   | 0                    | 357             |
| Rocky-8.4-aarch64-minimal.iso   | \* server              | media             | Libvirt VM         | 0                 | 0                   | 0                    | 465             |
| Rocky-8.4-x86_64-minimal.iso    | \* server              | media             | VirtualBox VM      | 0                 | 0                   | 0                    | 457             |
| Rocky-8.4-aarch64-dvd1.iso      |   server               | media             | Libvirt VM         | 0                 | 0                   | 0                    | 605             |
| Rocky-8.4-x86_64-dvd1.iso       |   server               | media             | VirtualBox VM      | 5                 | 0                   | 0                    | 644             |
| | | | |
| Rocky-8.4-x86_64-minimal.iso    |   virtualization-host  | network           | VirtualBox VM      | 3                 | 0                   | 0                    | 688             |
| Rocky-8.4-x86_64-dvd1.iso       |   virtualization-host  | media             | VirtualBox VM      | 3                 | 0                   | 0                    | 688             |
| | | | |
| Rocky-8.4-x86_64-minimal.iso    |   workstation          | network           | VirtualBox VM      | 7                 | 0                   | 0                    | 1380            |
| Rocky-8.4-x86_64-dvd1.iso       |   workstation          | media             | VirtualBox VM      | 7                 | 0                   | 0                    | 1395            |

\* denotes the default `PACKAGE_SET` for the ISO

### NOTES:

- Install from `Rocky-8.4-x86_64-boot.iso` is inherently a network install so the packages installed over time can change both in number and in `NEVRA`.
- Install in EFI mode consistently pulls in more packages.
- The package sets `virtualization-host` and `workstation` are not available for aarch64.


## Collection Sequence

1. Create a VirtualBox VM base machine for the configuration.
2. Snapshot the base configuration.
3. Attach required ISO and boot.
4. Run installer as required for each `PACKAGE_SET`.
5. Reboot VM and complete License Agreement and setup as required.
6. Copy the `collect_data.sh` script into the VM.
7. Run the `collect_data.sh` script for that `ISO` and `PACKAGE_SET`.
8. Copy the output files generated by `collect_data.sh` out of the VM.
9. Collect and summarize all output files.


## Sample Summarization Commands

### Collect Enabled Modules

```
➜  issue_18 git:(issue_18) ✗ for f in $(find . -name "*enabled*"); do echo $f" "$(grep '\[e\]' $f | wc -l); done | column -t | sort
./boot_iso/boot_iso.efi.minimal-environment.dnf.module.list.enabled.out                        0
./boot_iso/boot_iso.minimal-environment.dnf.module.list.enabled.out                            0
./dvd_iso/dvd_iso.efi.minimal-environment.dnf.module.list.enabled.out                          0
./dvd_iso/dvd_iso.graphical-server-environment.dnf.module.list.enabled.out                     10
./dvd_iso/dvd_iso.minimal-environment.dnf.module.list.enabled.out                              0
./dvd_iso/dvd_iso.server-environment.dnf.module.list.enabled.out                               5
./dvd_iso/dvd_iso.virtualization-host-environment.dnf.module.list.enabled.out                  3
./dvd_iso/dvd_iso.workstation-product-environment.dnf.module.list.enabled.out                  7
./minimal_iso/minimal_iso.efi.minimal-environment.dnf.module.list.enabled.out                  0
./minimal_iso/minimal_iso.minimal-environment.dnf.module.list.enabled.out                      0
./minimal_iso/minimal_iso.network.graphical-server-environment.dnf.module.list.enabled.out     10
./minimal_iso/minimal_iso.network.minimal-environment.dnf.module.list.enabled.out              0
./minimal_iso/minimal_iso.network.virtualization-host-environment.dnf.module.list.enabled.out  3
./minimal_iso/minimal_iso.network.workstation-product-environment.dnf.module.list.enabled.out  7
./minimal_iso/minimal_iso.server-environment.dnf.module.list.enabled.out                       0
```

### Collect Installed Packages

```
➜  issue_18 git:(issue_18) ✗ find . -name "*packages.out" | xargs wc -l | sort -k2,2
     411 ./boot_iso/boot_iso.efi.minimal-environment.packages.out
     374 ./boot_iso/boot_iso.minimal-environment.packages.out
     412 ./dvd_iso/dvd_iso.efi.minimal-environment.packages.out
    1367 ./dvd_iso/dvd_iso.graphical-server-environment.packages.out
     375 ./dvd_iso/dvd_iso.minimal-environment.packages.out
     644 ./dvd_iso/dvd_iso.server-environment.packages.out
     688 ./dvd_iso/dvd_iso.virtualization-host-environment.packages.out
    1395 ./dvd_iso/dvd_iso.workstation-product-environment.packages.out
     373 ./minimal_iso/minimal_iso.efi.minimal-environment.packages.out
     357 ./minimal_iso/minimal_iso.minimal-environment.packages.out
    1366 ./minimal_iso/minimal_iso.network.graphical-server-environment.packages.out
     347 ./minimal_iso/minimal_iso.network.minimal-environment.packages.out
     688 ./minimal_iso/minimal_iso.network.virtualization-host-environment.packages.out
    1380 ./minimal_iso/minimal_iso.network.workstation-product-environment.packages.out
     457 ./minimal_iso/minimal_iso.server-environment.packages.out
   10634 total
```